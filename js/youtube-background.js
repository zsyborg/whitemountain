// YoutubeBackground v1.0.5
/*
 * YoutubeBackground - A wrapper for the Youtube API - Great for fullscreen background videos or just regular videos.
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 *
 * Version:  1.0.5
 *
 */
"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c){var d=function(d){var f=c.createElement("script"),g=c.getElementsByTagName("head")[0];"file://"==b.location.origin?f.src="http://www.youtube.com/iframe_api":f.src="//www.youtube.com/iframe_api",g.appendChild(f),g=null,f=null,e(d)},e=function(d){"undefined"==typeof YT&&"undefined"==typeof b.loadingPlayer?(b.loadingPlayer=!0,b.dfd=a.Deferred(),b.onYouTubeIframeAPIReady=function(){b.onYouTubeIframeAPIReady=null,b.dfd.resolve("done"),d()}):"object"==typeof YT?d():b.dfd.done(function(a){d()})};YTPlayer={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:!0,repeat:!0,width:a(b).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:!1,fitToBackground:!0,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0},events:null},init:function(e,f){var g=this;return g.userOptions=f,g.$body=a("body"),g.$node=a(e),g.$window=a(b),g.defaults.events={onReady:function(a){g.onPlayerReady(a),g.options.pauseOnScroll&&g.pauseOnScroll(),"function"==typeof g.options.callback&&g.options.callback.call(this)},onStateChange:function(a){1===a.data?(g.$node.find("img").fadeOut(400),g.$node.addClass("loaded")):0===a.data&&g.options.repeat&&g.player.seekTo(g.options.start)}},g.options=a.extend(!0,{},g.defaults,g.userOptions),g.options.height=Math.ceil(g.options.width/g.options.ratio),g.ID=(new Date).getTime(),g.holderID="YTPlayer-ID-"+g.ID,g.options.fitToBackground?g.createBackgroundVideo():g.createContainerVideo(),g.$window.on("resize.YTplayer"+g.ID,function(){g.resize(g)}),d(g.onYouTubeIframeAPIReady.bind(g)),g.resize(g),g},pauseOnScroll:function(){var b=this;b.$window.on("scroll.YTplayer"+b.ID,function(){var a=b.player.getPlayerState();1===a&&b.player.pauseVideo()}),b.$window.scrollStopped(function(){var a=b.player.getPlayerState();2===a&&b.player.playVideo()})},createContainerVideo:function(){var c=this,d=a('<div id="ytplayer-container'+c.ID+'" ><div id="'+c.holderID+'" class="ytplayer-player-inline"></div></div><div id="ytplayer-shield" class="ytplayer-shield"></div>');c.$node.append(d),c.$YTPlayerString=d,d=null},createBackgroundVideo:function(){var c=this,d=a('<div id="ytplayer-container'+c.ID+'" class="ytplayer-container background"><div id="'+c.holderID+'" class="ytplayer-player"></div></div><div id="ytplayer-shield" class="ytplayer-shield"></div>');c.$node.append(d),c.$YTPlayerString=d,d=null},resize:function(d){var e=a(b);d.options.fitToBackground||(e=d.$node);var g,i,f=e.width(),h=e.height(),j=a("#"+d.holderID);f/d.options.ratio<h?(g=Math.ceil(h*d.options.ratio),j.width(g).height(h).css({left:(f-g)/2,top:0})):(i=Math.ceil(f/d.options.ratio),j.width(f).height(i).css({left:0,top:(h-i)/2})),j=null,e=null},onYouTubeIframeAPIReady:function(){var c=this;c.player=new b.YT.Player(c.holderID,c.options)},onPlayerReady:function(b){this.options.mute&&b.target.mute(),b.target.playVideo()},getPlayer:function(){return this.player},destroy:function(){var d=this;d.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded"),d.$YTPlayerString.remove(),a(b).off("resize.YTplayer"+d.ID),a(b).off("scroll.YTplayer"+d.ID),d.$body=null,d.$node=null,d.$YTPlayerString=null,d.player.destroy(),d.player=null}},a.fn.scrollStopped=function(b){var c=a(this),d=this;c.scroll(function(){c.data("scrollTimeout")&&clearTimeout(c.data("scrollTimeout")),c.data("scrollTimeout",setTimeout(b,250,d))})},a.fn.YTPlayer=function(b){return this.each(function(){var c=this;a(c).data("yt-init",!0);var d=Object.create(YTPlayer);d.init(c,b),a.data(c,"ytPlayer",d)})}}(jQuery,window,document);